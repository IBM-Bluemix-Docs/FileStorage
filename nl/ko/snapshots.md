---

copyright:
  years: 2014, 2017
lastupdated: "2017-12-11"

---
{:new_window: target="_blank"}
{:shortdesc: .shortdesc}

# 스냅샷에 대한 작업

스냅샷은 {{site.data.keyword.filestorage_full}}의 기능입니다. 스냅샷은 특정 시점의 볼륨 컨텐츠를 나타냅니다. 스냅샷을 사용하면 성능에 영향을 주지 않고, 최소한으로 공간을 사용하며 데이터를 보호할 수 있으며, 스냅샷은 데이터 보호를 위한 최전선으로 간주됩니다. 사용자가 우연히 스냅샷 기능을 통해 볼륨에서 중요한 데이터를 수정하거나 삭제한 경우 데이터는 스냅샷 사본에서 쉽고 빠르게 복원될 수 있습니다. 

{{site.data.keyword.filestorage_short}}에서는 스냅샷을 작성하는 두 가지 방법을 제공합니다. 하나는 각 스토리지 볼륨에 대해 자동으로 스냅샷 사본을 작성하고 삭제하는 구성 가능한 스냅샷 스케줄을 사용하는 방법입니다. 또한 추가 스냅샷 스케줄을 작성하고, 수동으로 사본을 삭제하고 요구사항에 따라 스케줄을 관리할 수 있습니다. 두 번째 방법은 수동 스냅샷을 작성하는 것입니다. 

스냅샷 사본은 {{site.data.keyword.filestorage_short}} 볼륨의 읽기 전용 이미지로, 특정 시점에 볼륨 상태를 캡처합니다. 스냅샷 사본은 작성하는 데 필요한 시간과 스토리지 공간 관점에서 모두 매우 효율적입니다. {{site.data.keyword.filestorage_short}} 스냅샷 사본은 작성하는 데 볼륨 크기나 스토리지에서 활동 레벨에 상관없이 몇 초 정도밖에 걸리지 않습니다(보통 1초 미만). 스냅샷 사본을 작성한 후에 데이터 오브젝트의 변경사항은 스냅샷 사본이 존재하지 않는 경우와 같이 오브젝트의 현재 버전의 업데이트에 반영됩니다. 그동안 데이터 사본은 완전히 안정적으로 유지됩니다.  

스냅샷 사본은 성능 오버헤드를 발생시키지 않기 때문에 {{site.data.keyword.blockstorageshort}} 볼륨별로 최대 50개의 스케줄된 스냅샷 및 50개의 수동 스냅샷을 저장할 수 있으며 이들 모두는 데이터의 읽기 전용 및 온라인 버전으로 액세스할 수 있습니다. 

스냅샷을 통해 사용자는 다음을 수행할 수 있습니다. 

- 비파괴적 방식으로 특정 시점 복구 지점 작성
- 이전 특정 시점으로 볼륨 되돌리기
- 해당 스냅샷을 작성하려면 볼륨에 대한 일부 스냅샷 영역을 구매해야 합니다. 스냅샷 영역은 초기 볼륨 주문 중에 또는 볼륨 세부사항 페이지를 통해 초기 프로비저닝 후 조치 드롭 다운 단추를 클릭하고 스냅샷 영역 추가를 선택하여 추가할 수 있습니다. 스케줄된 스냅샷과 수동 스냅샷은 스냅샷 영역을 공유하기 때문에 영역을 적절하게 주문하십시오. 

## 스냅샷 우수 사례
스냅샷 디자인은 고객 환경에 따라 달라집니다. 다음 디자인 고려사항은 스냅샷 사본을 플랜하고 구현하는 데 도움을 줄 수 있습니다.  
- 	스케줄을 통해 최대 50개의 스냅샷을 작성할 수 있으며, 각 볼륨 또는 LUN에서 최대 50개를 수동으로 작성할 수 있습니다.  
- 	성급하게 진행하지 마십시오. 스케줄된 스냅샷 빈도가 시간별, 일별 또는 주별 스냅샷을 스케줄하여 RTO 및 RPO 요구사항과 애플리케이션 비즈니스 요구사항을 충족하는지 확인하십시오.  
- 	스냅샷 AutoDelete를 사용하여 늘어나는 스토리지 이용을 제어해야 합니다. <br/>
    **참고**: AutoDelete 임계값은 95%로 고정됩니다.
    
## 스냅샷은 어떻게 디스크 공간을 이용합니까?
스냅샷 사본은 전체 파일 대신 개별 블록을 보존하여 디스크 이용을 최소화합니다. 스냅샷 사본은 활성 파일 시스템의 파일이 변경되거나 삭제된 경우에만 추가 공간을 이용하기 시작합니다. 이 경우 원래 파일 블록은 하나 이상의 스냅샷 사본 일부로 계속 보존됩니다.
활성 파일 시스템에서 변경된 블록은 디스크의 다른 위치에 다시 작성되거나 활성 파일 블록으로 완전히 제거됩니다. 결과적으로 수정된 활성 파일 시스템에서 블록이 사용하는 디스크 공간 외에도 원래 블록이 사용하는 디스크 공간은 변경 전 활성 파일 시스템 상태를 반영하기 위해 예약됩니다. 

<table>
    <colgroup>
      <col style="width: 33.3%;"/>
      <col style="width: 33.3%;"/>
      <col style="width: 33.3%;"/>
    </colgroup>
    <tbody>
      <tr>
        <th colspan="3" style="border: 0.0px;text-align: center;">스냅샷 복사 전후 디스크 영역 사용량</th>
     </tr><tr>
        <td style="border: 0.0px;text-align: center;"><img src="/images/bfcircle1.png" alt="스냅샷 복사 전"></td>
        <td style="border: 0.0px;text-align: center;"><img src="/images/bfcircle3.png" alt="스냅샷 복사 후"></td>
        <td style="border: 0.0px;text-align: center;"><img src="/images/bfcircle2.png" alt="스냅샷 복사 후 변경"></td>
     </tr><tr>
        <td style="border: 0.0px;">임의 스냅샷 사본이 작성되기 전에는 활성 파일 시스템만 디스크 영역을 사용합니다. </td>
        <td style="border: 0.0px;">스냅샷 사본을 작성한 후 활성 파일 시스템 및 스냅샷 사본은 동일한 디스크 블록을 가리킵니다. 스냅샷 사본은 추가 디스크 공간을 사용하지 않습니다. </td>
        <td style="border: 0.0px;">활성 파일 시스템에서 <i>myfile.txt</i>가 삭제된 후에 스냅샷 사본은 파일을 계속 포함하고 해당 디스크 블록을 참조합니다. 이는 활성 파일 시스템 데이터를 삭제해도 디스크 공간이 항상 해제되지 않는 이유입니다. </td>
      </tr>
    </tbody>
</table>



## 스냅샷 영역은 어떻게 구매합니까?

스토리지 볼륨의 스냅샷을 자동 또는 수동으로 작성하려면 이를 보관할 공간을 구매해야 합니다. 스토리지 볼륨 크기만큼 용량을 구매할 수 있습니다(초기 볼륨 구매 중 또는 아래 단계를 사용하여 나중에). 

1. [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window}의 **스토리지** > **{{site.data.keyword.filestorage_short}}** 탭을 통해 스토리지에 액세스하십시오. 
2. 스냅샷 프레임에서 스냅샷 영역 추가 링크를 클릭하십시오. 스냅샷 프레임에서 **지금 스냅샷 영역 구매** 링크를 클릭하십시오. 
3. 적절한 금액 옆에 있는 단일 선택 단추를 클릭하여 필요한 공간 크기를 선택하십시오. 
4. **계속**을 클릭하십시오. 
5. 사용자에게 있는 임의 프로모션 코드를 입력하고 **다시 계산**을 클릭하십시오. 이 주문에 대한 비용 및 주문 검토에 기본값이 표시됩니다. 
6. **마스터 서비스 계약을 읽었습니다...** 선택란을 클릭하고 **주문하기**를 클릭하십시오. 스냅샷 영역이 몇 분 안에 프로비저닝됩니다. 

## 스냅샷 스케줄은 어떻게 작성합니까?

스냅샷 스케줄을 사용하면 스토리지 볼륨의 특정 시점 참조를 작성하는 시기와 빈도를 결정할 수 있습니다. 스토리지 볼륨당 최대 50개의 스냅샷을 보유할 수 있습니다. 스케줄은 [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window}의 **스토리지** > **{{site.data.keyword.filestorage_short}}** 탭에서 관리합니다. 

초기 스케줄을 설정하려면 먼저 스토리지 볼륨의 초기 프로비저닝 중에 스냅샷 영역을 구매해야 합니다(아직 구매하지 않은 경우). 

### 스냅샷 스케줄 추가

스냅샷 스케줄은 각각 개별 보유 주기로 시간별, 일별, 주별 간격으로 설정할 수 있습니다. 스토리지 볼륨당 최대 50개의 스케줄된 스냅샷이 있습니다(시간별, 일별, 주별 스케줄이 혼합될 수 있음). 

1. 스토리지 볼륨을 클릭하고 **조치** 드롭 다운 상자를 클릭한 후 **스케줄 스냅샷**을 클릭하십시오. 
2. 새 스케줄 스냅샷 대화 상자에서는 세 개의 서로 다른 스냅샷 빈도를 선택할 수 있습니다. 세 개의 조합을 사용하여 포괄적인 스냅샷 스케줄을 작성하십시오. 
   - 시간별
      - 스냅샷을 수행해야 하는 매시간 분(기본값은 현재 분)을 지정합니다. 
      - 가장 오래된 항목을 버리기 전에 보유할 매시간 스냅샷 수를 지정합니다. 
   - 일별
      - 스냅샷을 수행해야 하는 시간과 분(기본값은 현재 시간과 분)을 지정합니다. 
      - 가장 오래된 항목을 버리기 전에 보유할 매시간 스냅샷 수를 선택합니다. 
   - 주별
      - 스냅샷을 수행해야 하는 요일, 시간, 분(기본값은 현재 요일, 시간, 분)을 지정합니다. 
      - 가장 오래된 항목을 버리기 전에 보유할 주간 스냅샷 수를 선택합니다. 
3. **저장**을 클릭하고 다른 빈도로 또 다른 스케줄을 작성하십시오. 스케줄된 총 스냅샷 수가 50개를 초과하면 경고 메시지가 수신되며, 저장할 수 없음을 알립니다. 

스냅샷 목록은 세부사항 페이지의 스냅샷 섹션에서 작성된 대로 표시됩니다. 

## 수동 스냅샷을 어떻게 수행합니까?

수동 스냅샷은 애플리케이션 업그레이드 또는 유지보수 중에 다양한 지점에서 작성될 수 있습니다. 또한 애플리케이션 레벨에서 임시로 비활성화된 여러 머신에서 스냅샷을 작성할 수도 있습니다. 

스토리지 볼륨당 최대 50개의 수동 스냅샷이 있습니다. 

1. 스토리지 볼륨을 클릭하십시오. 
2. 조치 드롭 다운 상자를 클릭하십시오. 
3. **수동 스냅샷 작성**을 클릭하십시오.
스냅샷이 작성되고 세부사항 페이지의 스냅샷 섹션에 표시됩니다. 스케줄은 수동입니다. 

## 이용한 공간 및 관리 기능과 함께 스냅샷 목록을 어떻게 볼 수 있습니까?

보유된 스냅샷 및 이용된 공간의 목록은 세부사항 페이지(**스토리지** > **{{site.data.keyword.filestorage_short}}**)에서 확인할 수 있습니다. 관리 기능(스케줄 편집 및 공간 더 추가)은 페이지의 다양한 섹션에 있는 **조치** 드롭 다운 메뉴 또는 링크를 사용하여 **세부사항** 페이지에서 수행됩니다. 

## 보유된 스냅샷의 목록은 어떻게 확인합니까?

보유된 스냅샷은 스케줄을 설정할 때 **마지막 필드 유지**에 입력한 수에 기반합니다. **스냅샷** 섹션에서 작성된 스냅샷을 볼 수 있습니다. 스냅샷은 스케줄을 기준으로 나열됩니다. 

## 스냅샷 영역이 사용된 크기는 어떻게 볼 수 있습니까?

**세부사항** 페이지 맨 위에 있는 원형 차트는 사용한 공간 크기와 남은 공간 크기를 표시합니다. 공간 임계값에 도달하기 시작하면 알림이 수신됩니다(75%, 90%, 95%). 
## 내 볼륨에 대한 스냅샷 영역 크기를 어떻게 변경합니까?

볼륨에 이전에 없던 스냅샷 영역을 추가하거나 추가 스냅샷 영역이 필요할 수 있습니다. 사용자 필요에 따라 5GB에서 4,000GB 사이를 추가할 수 있습니다. 참고: 스냅샷 영역은 증가만 가능하고, 줄일 수 없습니다. 실제로 필요한 공간 크기를 판별할 때까지 더 작은 공간을 선택할 수 있습니다. 자동화된 스냅샷 및 수동 스냅샷은 동일한 공간을 공유한다는 점을 명심하십시오. 

스냅샷 영역은 **스토리지** > **{{site.data.keyword.filestorage_short}}**를 통해 변경됩니다. 

1. 스토리지 볼륨을 클릭하고 **조치** 드롭 다운 상자를 클릭한 후 **추가 스냅샷 영역 추가**를 클릭하십시오. 
2. 프롬프트에서 크기 범위 중에서 선택하십시오. 일반적으로 크기는 0에서 볼륨 크기까지의 범위입니다. 
3. **계속**을 클릭하여 추가 영역을 프로비저닝하십시오. 
4. 사용자에게 있는 임의 프로모션 코드를 입력하고 **다시 계산**을 클릭하십시오. **이 주문에 대한 비용** 및 **주문 검토**에서 기본값을 표시합니다. 
5. **마스터 서비스 계약을 읽었습니다...** 선택란을 클릭하고 **주문하기**를 클릭하십시오. 추가 스냅샷 영역이 몇 분 안에 프로비저닝됩니다. 

## 내 스냅샷 영역 한계에 가까워지고 스냅샷이 삭제된 경우 알림을 어떻게 수신합니까?

세 개의 서로 다른 공간 임계값(75%, 90%, 95%)에 도달한 경우 지원에서 계정의 마스터 사용자에게 지원 티켓을 통해 알림을 보냅니다.
- 75% 용량: 스냅샷 영역 사용률이 75%를 초과했음을 알리는 경고가 전송됩니다. 경고에 따라 공간을 수동으로 추가하거나 필요하지 않은 보유된 스냅샷을 삭제하는 경우 조치가 기록되고 티켓이 닫힙니다. 아무런 조치도 수행하지 않으면 수동으로 티켓을 수신확인해야 합니다. 그러면 티켓이 닫힙니다. 
- 90% 용량: 스냅샷 영역 사용률이 90%를 초과했음을 알리는 두 번째 경고가 전송됩니다. 75% 용량 도달과 마찬가지로 사용한 공간을 줄이는 필수 조치를 수행하는 경우 조치가 기록되고 티켓이 닫힙니다. 아무런 조치도 수행하지 않으면 수동으로 티켓을 수신확인해야 합니다. 그러면 티켓이 닫힙니다. 
- 95% 용량: 마지막 경고가 전송됩니다. 임계값 미만으로 공간을 줄이는 조치를 수행하지 않으면 알림이 생성되고 향후 스냅샷을 작성할 수 있도록 자동 삭제가 수행됩니다. 가장 오래된 항목부터 사용률이 95% 미만으로 떨어질 때까지 스케줄된 스냅샷이 삭제되고 활용도가 95%를 초과할 때마다 임계값 미만으로 떨어질 때까지 계속 삭제됩니다. 공간이 수동으로 늘어나거나 스냅샷이 삭제된 경우 경고가 재설정되고 임계값을 다시 초과한 경우 다시 경고가 표시됩니다. 조치를 수행하지 않은 경우 이 경고만 수신됩니다. 

## 스냅샷 스케줄은 어떻게 삭제합니까?

스냅샷 스케줄은 **스토리지** > **{{site.data.keyword.filestorage_short}}**를 통해 취소할 수 있습니다. 

1. **세부사항** 페이지의 **스냅샷 스케줄** 프레임에서 삭제할 스케줄을 클릭하십시오. 
2. 삭제할 스케줄 옆의 선택란을 클릭하고 **저장**을 클릭하십시오. <br/>
주의: 복제 기능을 사용하는 경우 삭제할 스케줄이 복제에서 사용하는 스케줄이 아닌지 확인하십시오. 복제 스케줄 삭제에 대한 자세한 정보를 보려면 [여기](replication.html)를 클릭하십시오. 

## 스냅샷은 어떻게 삭제합니까?

더 이상 필요하지 않은 스냅샷은 향후 스냅샷을 위한 공간을 확보하기 위해 수동으로 제거할 수 있습니다. 삭제는 **스토리지** > **{{site.data.keyword.filestorage_short}}**를 통해 수행됩니다. 

1. 스토리지 볼륨을 클릭하고 스냅샷 섹션을 아래로 이동하여 기존 스냅샷의 목록을 보십시오. 
2. 특정 스냅샷 옆의 조치 드롭 다운 목록을 클릭하고 **삭제**를 클릭하여 스냅샷을 삭제하십시오. 그러면 스냅샷 사이에 종속성이 없으므로 동일한 스케줄에서 향후 또는 과거의 스냅샷에 영향을 주지 않습니다. 

위에서 설명한 방식으로 삭제되지 않은 수동 스냅샷은 공간 제한사항에 도달하면 오래된 항목부터 자동으로 삭제됩니다. 

## 스냅샷을 사용하여 특정 시점으로 내 스토리지 볼륨을 어떻게 복원합니까?

사용자 오류 또는 데이터 손상으로 인해 특정 시점으로 스토리지 볼륨을 다시 되돌려야 할 수도 있습니다. 

1. 호스트에서 스토리지 볼륨을 마운트 해제하고 분리하십시오. 
   - Linux에서 {{site.data.keyword.filestorage_short}} 관련 지시사항에 대해서는 [여기](accessing-file-storage-linux.html)를 클릭하십시오. 
2. [{{site.data.keyword.slportal}}](https://control.softlayer.com/){:new_window}에서 **스토리지**, **{{site.data.keyword.filestorage_short}}**를 클릭하십시오. 
3. 아래로 스크롤하여 복원할 볼륨을 클릭하십시오. 세부사항 페이지의 스냅샷 섹션에서는 크기 및 작성 날짜와 함께 저장된 모든 스냅샷 목록을 표시합니다. 
4. 사용할 스냅샷에 대해 **조치** 단추를 클릭하고 **복원**을 클릭하십시오.  

   **참고**: 복원을 수행하면 사용 중인 스냅샷을 작성한 이후 작성 또는 수정한 데이터가 유실됩니다. 완료되면 스토리지 볼륨이 스냅샷을 작성한 시점과 동일한 상태로 돌아갑니다. 이를 알리는 프롬프트가 표시됩니다.
5. 복원을 시작하려면 **예**를 클릭하십시오. 그러면 선택한 스냅샷을 사용하여 볼륨이 복원되었음을 알리는 메시지가 페이지 맨 위에 수신됩니다. 또한 활성 트랜잭션이 진행 중임을 알리는 아이콘이 {{site.data.keyword.filestorage_short}}의 볼륨 옆에 나타납니다. 아이콘에 커서를 대면 트랜잭션을 나타내는 대화 상자가 생성됩니다. 트랜잭션이 완료되면 아이콘이 사라집니다. 
6. 호스트에 스토리지 볼륨을 마운트하고 다시 접속하십시오. 
   - Linux에서 {{site.data.keyword.filestorage_short}} 관련 지시사항에 대해서는 [여기](accessing-file-storage-linux.html)를 클릭하십시오. 
   
**참고**: 볼륨을 복원하면 복원된 스냅샷 이전의 모든 스냅샷이 삭제됩니다. 

